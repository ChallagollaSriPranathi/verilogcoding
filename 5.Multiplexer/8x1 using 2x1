// 8x1 mux using 2x1mux
module mux2x1(input i0,i1,sel,
              output out);
assign out = (sel)?i1:i0;
endmodule
module mux8x1(input i0,i1,i2,i3,i4,i5,i6,i7,
              input s0,s1,s2,
              output out);
wire w1,w2,w3,w4,w5,w6;
mux2x1 m1 (i0,i1,s0,w1);
mux2x1 m2 (i2,i3,s0,w2);
mux2x1 m3 (i4,i5,s0,w3);
mux2x1 m4 (i6,i7,s0,w4);
mux2x1 m5 (w1,w2,s1,w5);
mux2x1 m6 (w3,w4,s1,w6);
mux2x1 m7 (w5,w6,s2,out);
endmodule
